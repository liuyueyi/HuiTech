# 动手写MVC

> 在实际开始动手之前，先记录下为什么要写这个东西，以及准备实现些什么功能

## 背景说明

差不多有两年的spring-mvc的应用经验，但是对于其内部实现原理一直都没有深究，模糊的知道一点spring mvc框架的大致原理，但是没有一个明确的线路图，在脑海里形成不了换路图，鉴于此，想看看一个mvc框架到底是怎样的

其次，实际项目开发中，经常遇到的几个问题

1. 依赖注入时，如果出现重复注入怎么办？（比如数据源DataSource要求容器内只有一个实例存在时，重复注入or重复创建对象会抛异常）
2. 切面，某些时候死活进不去，又不知道是什么原因（造成这个的原因其实挺多的，私有方法切不了，配置不对切不了，非统一容器内切不了。）
3. 拦截器和过滤器的区别是什么，为什么要有这两个东西
4. session和cookie的生命周期怎样的
5. url的匹配规则的先后顺序是怎样的
6. 返回视图的处理（模板引擎怎么支持的）
...


spring的东西其实非常之多，想要了解这些东西一个方法就是去看源码，单独的为了看源码而看源码导致的一个问题就是不太容易理解为什么要这么做，以及这么做的好处是什么，再者就是看完就容易忘记，做不到真正的理解。


基于此，准备动手写一个非常简陋的mvc框架，主要是为了学习经验，吸收别人的优秀设计理念，当然最后的目标是以此为基础写一个简单的demo


## 实现说明

> 前面说了为什么要做这个东西，现在则说一下我们准备做些什么


1. IoC 依赖注入的实现
2. AOP 的实现 
    - 要求支持public, protected, private 方法的切面支持
    - before, after, around 三个基本的支持
3. DispatcherServlet path和controller的映射（最基本的功能了）
4. 全链路打点
